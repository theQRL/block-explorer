@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom QRL Explorer Styles */
@layer base {
  html {
    font-size: 14px; /* Reduced from browser default 16px */
  }

  /* Keep original size for animated EXPLORER text */
  .explorer-letter {
    font-size: 16px;
  }

  :root {
    --color-qrl-primary: #0B181E;
    --color-qrl-secondary: #1a1a1a;
    --color-qrl-text: #ffffff;
    --color-qrl-text-secondary: #b3b3b3;
    --color-qrl-border: #404040;
    --network-chart-surface: radial-gradient(circle at 15% 12%, rgba(103, 184, 255, 0.2), transparent 52%), radial-gradient(circle at 88% 18%, rgba(255, 179, 71, 0.22), transparent 45%), linear-gradient(165deg, rgba(15, 22, 29, 0.95), rgba(7, 11, 15, 0.96));
    --network-chart-border: rgba(120, 155, 184, 0.35);
    --network-chart-grid: rgba(149, 167, 184, 0.22);
    --network-chart-tooltip-bg: rgba(10, 15, 20, 0.95);
    --network-chart-tooltip-border: rgba(103, 184, 255, 0.34);
  }

  .light-theme {
    --color-qrl-primary: #f8f9fa; /* Lighter primary for light theme */
    --color-qrl-secondary: #ffffff;
    --color-qrl-text: #0B181E;
    --color-qrl-text-secondary: #6b7280; /* Adjusted for better contrast */
    --color-qrl-border: #e5e7eb; /* Lighter border for light theme */
    --network-chart-surface: radial-gradient(circle at 15% 12%, rgba(103, 184, 255, 0.22), transparent 52%), radial-gradient(circle at 88% 18%, rgba(255, 179, 71, 0.22), transparent 45%), linear-gradient(165deg, rgba(255, 255, 255, 0.98), rgba(244, 248, 252, 0.99));
    --network-chart-border: rgba(148, 163, 184, 0.45);
    --network-chart-grid: rgba(71, 85, 105, 0.18);
    --network-chart-tooltip-bg: rgba(255, 255, 255, 0.98);
    --network-chart-tooltip-border: rgba(59, 130, 246, 0.28);
  }

  body {
    @apply bg-qrl-primary text-qrl-text font-din transition-colors duration-200;
  }

  h1, h2, h3, h4, h5, h6 {
    @apply font-din font-semibold;
  }
}

@layer components {
  .btn-primary {
    @apply bg-qrl-accent hover:bg-qrl-accent/80 text-qrl-primary font-semibold py-2 px-4 rounded-lg transition-all duration-200 hover:shadow-accent;
  }

  .btn-secondary {
    @apply bg-qrl-secondary hover:bg-qrl-secondary/80 text-qrl-text border border-qrl-border font-semibold py-2 px-4 rounded-lg transition-all duration-200 hover:shadow-accent hover:border-qrl-accent/30;
  }

  .card {
    @apply bg-qrl-secondary border border-qrl-border rounded-xl p-6 shadow-lg transition-all duration-200;
    border-top: 2px solid transparent;
    background-image: linear-gradient(var(--color-qrl-secondary, #2d2d2d), var(--color-qrl-secondary, #2d2d2d)), linear-gradient(90deg, rgba(255, 167, 41, 0.3), rgba(74, 175, 255, 0.1));
    background-origin: border-box;
    background-clip: padding-box, border-box;
  }

  .card:hover {
    @apply shadow-accent;
    transform: translateY(-1px);
  }

  .input-field {
    @apply bg-qrl-secondary border border-qrl-border text-qrl-text placeholder-qrl-text-secondary rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-qrl-accent focus:border-transparent transition-colors duration-200;
  }

  .sidebar-item {
    @apply flex items-center space-x-3 px-4 py-3 text-qrl-text hover:bg-qrl-secondary/50 rounded-lg transition-colors duration-200;
  }

  .nav-item {
    @apply flex items-center text-qrl-text hover:text-qrl-accent transition-colors duration-200 px-3 py-2 rounded-lg hover:bg-qrl-secondary/50;
  }

  .nav-item.active {
    @apply text-qrl-accent bg-qrl-secondary/50;
  }

  .nav-underline-gradient {
    background: linear-gradient(90deg, #FFA729, #4AAFFF);
  }

  .sidebar-item.active {
    @apply bg-qrl-accent text-qrl-primary;
  }

  .status-indicator {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
  }

  .status-connected {
    @apply bg-green-500/20 text-green-400 border border-green-500/30;
  }

  .status-disconnected {
    @apply bg-red-500/20 text-red-400 border border-red-500/30;
  }

  /* Remove fixed colors for status-warning to allow animation */
  .status-warning {
    @apply text-yellow-400 border border-yellow-500/30;
    /* Animation will handle background color */
  }

  .site-header {
    @apply relative bg-qrl-secondary/70 backdrop-blur-md border-b border-qrl-border/60 overflow-hidden;
    background-image: radial-gradient(circle at 14% -220%, rgba(255, 167, 41, 0.08), transparent 62%), radial-gradient(circle at 86% -210%, rgba(74, 175, 255, 0.07), transparent 58%);
  }

  .site-header::before {
    content: '';
    @apply absolute inset-x-0 top-0 h-px pointer-events-none;
    background: linear-gradient(90deg, rgba(255, 167, 41, 0), rgba(255, 167, 41, 0.18), rgba(74, 175, 255, 0.16), rgba(74, 175, 255, 0));
  }

  .light-theme .site-header {
    @apply bg-white/80;
    background-image: radial-gradient(circle at 14% -220%, rgba(255, 167, 41, 0.06), transparent 62%), radial-gradient(circle at 86% -210%, rgba(74, 175, 255, 0.05), transparent 58%);
  }

  .site-footer {
    @apply relative bg-qrl-secondary border-t border-qrl-border overflow-hidden;
    background-image: radial-gradient(circle at 12% -40%, rgba(255, 167, 41, 0.2), transparent 50%), radial-gradient(circle at 85% -25%, rgba(74, 175, 255, 0.18), transparent 45%);
  }

  .site-footer::before {
    content: '';
    @apply absolute top-0 left-0 right-0 h-px pointer-events-none;
    background: linear-gradient(90deg, rgba(255, 167, 41, 0), rgba(255, 167, 41, 0.8), rgba(74, 175, 255, 0.75), rgba(74, 175, 255, 0));
  }

  .site-footer-grid {
    @apply relative grid grid-cols-1 gap-6 md:grid-cols-3;
  }

  .site-footer-brand {
    @apply space-y-2;
  }

  .site-footer-logo-wrap {
    @apply inline-flex items-center gap-3;
  }

  .site-footer-brand-title {
    @apply text-xl font-semibold text-qrl-text tracking-wide;
  }

  .site-footer-brand-copy {
    @apply text-sm text-qrl-text-secondary leading-relaxed max-w-sm;
  }

  .site-footer-meta {
    @apply text-xs text-qrl-text-secondary uppercase tracking-wider;
  }

  .site-footer-heading {
    @apply text-xs text-qrl-text-secondary uppercase tracking-[0.18em] mb-2;
  }

  .site-footer-nav {
    @apply flex flex-col gap-1;
  }

  .site-footer-link {
    @apply relative inline-flex items-center gap-2 py-1 text-sm text-qrl-text-secondary transition-colors duration-200;
    width: fit-content;
  }

  .site-footer-link::after {
    content: '';
    @apply absolute left-0 bottom-0 h-px w-0 transition-all duration-200;
    background: linear-gradient(90deg, #FFA729, #4AAFFF);
  }

  .site-footer-link:hover {
    @apply text-qrl-text;
  }

  .site-footer-link:hover::after {
    @apply w-full;
  }

  .site-footer-link:focus-visible {
    @apply outline-none ring-2 ring-qrl-accent/70 ring-offset-2 ring-offset-qrl-secondary rounded-sm;
  }

  .site-footer-bottom {
    @apply relative mt-6 pt-4 border-t border-qrl-border/70 flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between;
  }

  .site-footer-utility {
    @apply flex items-center gap-3 flex-wrap;
  }

  .site-footer-utility-link {
    @apply text-xs uppercase tracking-wider text-qrl-text-secondary transition-colors duration-200;
  }

  .site-footer-utility-link:hover {
    @apply text-qrl-accent;
  }

  .site-footer-utility-link:focus-visible {
    @apply outline-none ring-2 ring-qrl-accent/70 ring-offset-2 ring-offset-qrl-secondary rounded-sm;
  }

  .light-theme .site-footer-link:focus-visible,
  .light-theme .site-footer-utility-link:focus-visible {
    @apply ring-offset-white;
  }

  .network-chart-card {
    @apply relative overflow-hidden;
  }

  .network-chart-card::before {
    content: '';
    @apply absolute top-0 left-0 right-0 h-px pointer-events-none;
    background: linear-gradient(90deg, rgba(103, 184, 255, 0), rgba(103, 184, 255, 0.65), rgba(255, 179, 71, 0.72), rgba(255, 179, 71, 0));
  }

  .network-chart-header {
    @apply flex items-start justify-between gap-4 mb-5;
  }

  .network-chart-metrics {
    @apply flex items-center justify-end gap-2 flex-wrap;
  }

  .network-metric-pill {
    @apply flex flex-col px-3 py-2 rounded-xl border border-qrl-border/60 bg-qrl-primary/50 backdrop-blur;
    min-width: 110px;
  }

  .network-metric-label {
    @apply text-xs text-qrl-text-secondary uppercase tracking-wider;
  }

  .network-metric-value {
    @apply mt-1 text-sm font-semibold text-qrl-text;
    font-family: 'Hack', ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;
  }

  .network-chart-shell {
    @apply relative w-full overflow-hidden;
    height: 23rem;
    border-radius: 1rem;
    border: 1px solid var(--network-chart-border);
    background: var(--network-chart-surface);
    isolation: isolate;
  }

  .network-chart-shell::after {
    content: '';
    @apply absolute inset-0 pointer-events-none;
    background: linear-gradient(180deg, rgba(255, 255, 255, 0.05) 0%, rgba(255, 255, 255, 0) 22%);
    z-index: 0;
  }

  .network-chart-glow {
    @apply absolute rounded-full pointer-events-none;
    width: 17rem;
    height: 17rem;
    filter: blur(44px);
    z-index: 0;
  }

  .network-chart-glow-left {
    top: -7rem;
    left: -6rem;
    background: rgba(103, 184, 255, 0.28);
  }

  .network-chart-glow-right {
    top: -7.5rem;
    right: -5rem;
    background: rgba(255, 179, 71, 0.26);
  }

  .network-chart-loading {
    z-index: 3;
    background: linear-gradient(180deg, rgba(8, 13, 18, 0.72), rgba(8, 13, 18, 0.54));
    backdrop-filter: blur(5px);
  }

  .light-theme .network-chart-loading {
    background: linear-gradient(180deg, rgba(255, 255, 255, 0.7), rgba(248, 252, 255, 0.56));
  }

  .network-loader-orb {
    width: 3.25rem;
    height: 3.25rem;
    border-radius: 9999px;
    border: 2px solid rgba(103, 184, 255, 0.35);
    border-top-color: #67b8ff;
    animation: spin 1s linear infinite;
    box-shadow: 0 0 0 6px rgba(255, 179, 71, 0.08);
  }

  .network-loader-bars {
    @apply flex items-end gap-1;
    height: 1rem;
  }

  .network-loader-bars span {
    width: 0.22rem;
    height: 0.9rem;
    border-radius: 9999px;
    background: linear-gradient(180deg, #67b8ff, #ffb347);
    animation: networkBarWave 1.1s ease-in-out infinite;
    transform-origin: center bottom;
  }

  .network-loader-bars span:nth-child(2) {
    animation-delay: 0.1s;
  }

  .network-loader-bars span:nth-child(3) {
    animation-delay: 0.2s;
  }

  .network-loader-bars span:nth-child(4) {
    animation-delay: 0.3s;
  }

  .network-chart-shell .apexcharts-canvas,
  .network-chart-shell .apexcharts-svg {
    z-index: 2;
  }

  .network-chart-shell .apexcharts-gridline {
    stroke: var(--network-chart-grid);
    stroke-dasharray: 5;
  }

  .network-chart-shell .apexcharts-legend-text,
  .network-chart-shell .apexcharts-xaxis-label,
  .network-chart-shell .apexcharts-yaxis-label,
  .network-chart-shell .apexcharts-tooltip-text,
  .network-chart-shell .apexcharts-tooltip-title {
    font-family: 'Alte DIN 1451 Mittelschrift', sans-serif !important;
  }

  .network-chart-shell .apexcharts-tooltip {
    border: 1px solid var(--network-chart-tooltip-border) !important;
    background: var(--network-chart-tooltip-bg) !important;
    border-radius: 0.75rem !important;
    box-shadow: 0 16px 34px rgba(2, 6, 23, 0.4) !important;
    backdrop-filter: blur(10px);
  }

  .network-chart-shell .apexcharts-tooltip-title {
    background: transparent !important;
    border-bottom: 1px solid rgba(148, 163, 184, 0.25) !important;
  }

  .light-theme .network-chart-shell .apexcharts-tooltip {
    box-shadow: 0 12px 24px rgba(15, 23, 42, 0.14) !important;
  }

  @keyframes networkBarWave {
    0%,
    100% {
      transform: scaleY(0.4);
      opacity: 0.45;
    }
    50% {
      transform: scaleY(1);
      opacity: 1;
    }
  }

  @media (max-width: 767px) {
    .network-chart-header {
      @apply flex-col items-start;
    }

    .network-chart-metrics {
      @apply justify-start;
    }
  }

  @media (max-width: 640px) {
    .network-chart-shell {
      height: 20rem;
    }
  }
}

/* Mobile Responsive Enhancements */
@layer utilities {
  .mobile-sidebar {
    @apply fixed inset-y-0 right-0 z-50 w-64 transform transition-transform duration-300 ease-in-out;
  }

  .mobile-sidebar.closed {
    @apply translate-x-full;
  }

  .mobile-overlay {
    @apply fixed inset-0 bg-black bg-opacity-50 z-40;
  }

  .mobile-menu-button {
    @apply xl:hidden fixed top-4 right-4 z-50 bg-qrl-secondary border border-qrl-border rounded-lg p-2 text-qrl-text transition-colors duration-200;
  }
}

/* Chart Loading Animation */
.svg__loading {
  @apply w-full h-32;
}

.svg__loading-new {
  @apply fill-qrl-accent;
}

.svg__loading-open {
  @apply fill-blue-500;
}

.svg__loading-pending {
  @apply fill-yellow-500;
}

.svg__loading-finalized {
  @apply fill-green-500;
}

/* Custom scrollbar */
::-webkit-scrollbar {
  @apply w-2;
}

::-webkit-scrollbar-track {
  @apply bg-qrl-secondary;
}

::-webkit-scrollbar-thumb {
  @apply bg-qrl-border rounded-full;
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-qrl-accent;
}

/* REMOVED: Global * transition-colors rule that caused layout thrash */

/* Focus styles for accessibility */
.focus-visible {
  @apply outline-none ring-2 ring-qrl-accent ring-offset-2 ring-offset-qrl-primary;
}

/* Loading states */
.loading {
  @apply animate-pulse;
}

/* Card hover effects */
.card-hover {
  @apply hover:shadow-xl hover:scale-105 transition-all duration-200;
}

/* Card with accent top border */
.card-accent {
  border-top: 2px solid #FFA729;
}

/* Hero number styling for large metrics */
.hero-number {
  @apply text-3xl sm:text-4xl font-bold font-mono text-qrl-text leading-tight;
}

/* Small label above hero numbers */
.hero-label {
  @apply text-xs font-medium text-qrl-text-secondary uppercase tracking-wider mb-1;
}

/* Full-width monospace hash display */
.hash-banner {
  @apply w-full bg-qrl-surface/80 rounded-xl px-4 py-4 font-mono text-lg sm:text-xl text-qrl-text break-all shadow-inner-glow border border-qrl-border/50;
}

/* Transaction type left-border colors */
.transactionRecord {
  border-top-width: 1px !important;
  background-image: none !important; /* Remove card gradient to keep borders plain grey */
}

.border-type-transfer, .border-type-sent {
  @apply border-l-4 !important;
  border-left-color: #FFA729 !important;
}
.border-type-transfer:hover, .border-type-sent:hover {
  border-color: #FFA729 !important;
}

.border-type-received {
  @apply border-l-4 !important;
  border-left-color: #4AAFFF !important;
}
.border-type-received:hover {
  border-color: #4AAFFF !important;
}

.border-type-coinbase {
  @apply border-l-4 !important;
  border-left-color: #10B981 !important;
}
.border-type-coinbase:hover {
  border-color: #10B981 !important;
}

.border-type-token {
  @apply border-l-4 !important;
  border-left-color: #4AAFFF !important;
}
.border-type-token:hover {
  border-color: #4AAFFF !important;
}

.border-type-message {
  @apply border-l-4 !important;
  border-left-color: #A78BFA !important;
}
.border-type-message:hover {
  border-color: #A78BFA !important;
}

.border-type-slave {
  @apply border-l-4 !important;
  border-left-color: #F472B6 !important;
}
.border-type-slave:hover {
  border-color: #F472B6 !important;
}

.border-type-lattice {
  @apply border-l-4 !important;
  border-left-color: #34D399 !important;
}
.border-type-lattice:hover {
  border-color: #34D399 !important;
}

.border-type-multisig {
  @apply border-l-4 !important;
  border-left-color: #FB923C !important;
}
.border-type-multisig:hover {
  border-color: #FB923C !important;
}

/* Wallet-style Transaction Icons */
.tx-icon-container {
  @apply inline-flex h-10 w-10 shrink-0 items-center justify-center rounded-full border;
}

.tx-icon-transfer {
  @apply border-[#FFA729]/35 bg-[#FFA729]/15 text-[#FFA729];
}

.tx-icon-sent {
  @apply border-[#FFA729]/35 bg-[#FFA729]/15 text-[#FFA729];
}

.tx-icon-received {
  @apply border-[#4AAFFF]/35 bg-[#4AAFFF]/15 text-[#4AAFFF];
}

.tx-icon-coinbase {
  @apply border-[#10B981]/35 bg-[#10B981]/15 text-[#10B981];
}

.tx-icon-block {
  @apply border-[#FFA729]/35 bg-[#FFA729]/15 text-[#FFA729];
}

.tx-icon-token {
  @apply border-[#4AAFFF]/35 bg-[#4AAFFF]/15 text-[#4AAFFF];
}

.tx-icon-message {
  @apply border-[#A78BFA]/35 bg-[#A78BFA]/15 text-[#A78BFA];
}

.tx-icon-slave {
  @apply border-[#F472B6]/35 bg-[#F472B6]/15 text-[#F472B6];
}

.tx-icon-lattice {
  @apply border-[#34D399]/35 bg-[#34D399]/15 text-[#34D399];
}

.tx-icon-multisig {
  @apply border-[#FB923C]/35 bg-[#FB923C]/15 text-[#FB923C];
}

/* Table zebra striping */
.table-zebra tbody tr:nth-child(even) {
  @apply bg-qrl-primary/30;
}

.table-zebra tbody tr:nth-child(odd) {
  @apply bg-qrl-secondary;
}

.table-zebra tbody tr {
  @apply hover:bg-qrl-accent/5 transition-colors duration-150;
}

/* Gradient text */
.text-gradient {
  @apply bg-clip-text text-transparent font-bold;
  background-image: linear-gradient(135deg, #FFA729, #4AAFFF);
}

/* Rounded pill badge */
.badge-pill {
  @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-semibold border;
}

.badge-pill-transfer {
  @apply bg-yellow-500/15 text-yellow-400 border-yellow-500/30;
}

.badge-pill-coinbase {
  @apply bg-green-500/15 text-green-400 border-green-500/30;
}

.badge-pill-token {
  @apply bg-blue-500/15 text-blue-400 border-blue-500/30;
}

.badge-pill-message {
  @apply bg-purple-500/15 text-purple-400 border-purple-500/30;
}

.badge-pill-slave {
  @apply bg-pink-500/15 text-pink-400 border-pink-500/30;
}

.badge-pill-lattice {
  @apply bg-emerald-500/15 text-emerald-400 border-emerald-500/30;
}

.badge-pill-multisig {
  @apply bg-orange-500/15 text-orange-400 border-orange-500/30;
}

.badge-pill-default {
  @apply bg-gray-500/15 text-gray-400 border-gray-500/30;
}

/* Gradient border decorations */
.border-gradient-bottom {
  @apply relative;
}

.border-gradient-bottom::after {
  content: '';
  @apply absolute bottom-0 left-0 right-0 h-0.5;
  background: linear-gradient(90deg, #FFA729, #4AAFFF, transparent);
}

.border-gradient-top {
  @apply relative;
}

.border-gradient-top::before {
  content: '';
  @apply absolute top-0 left-0 right-0 h-0.5;
  background: linear-gradient(90deg, #FFA729, #4AAFFF, transparent);
}

/* Monospace value styling */
.mono-value {
  @apply font-mono text-qrl-text font-semibold;
}

/* Text selection */
::selection {
  @apply bg-qrl-accent text-qrl-primary;
}

/* Print styles */
@media print {
  .no-print {
    @apply hidden;
  }
}

/* Mobile pagination - hide numbered buttons, show only back/forward arrows */
@media (max-width: 639px) {
  .pagination-buttons .page-btn {
    display: none;
  }
}

/* Theme-specific overrides */
.light-theme .card {
  @apply shadow-md;
}

.light-theme .btn-secondary {
  @apply shadow-sm;
}

.light-theme .sidebar-item:hover {
  @apply bg-gray-100;
}

.light-theme .status-indicator {

  @apply shadow-sm;
}

/* Ensure all text elements inherit theme colors */
.light-theme h1,
.light-theme h2,
.light-theme h3,
.light-theme h4,
.light-theme h5,
.light-theme h6 {
  @apply text-qrl-text;
}

.light-theme p,
.light-theme span,
.light-theme div {
  @apply text-qrl-text;
}


/* Disconnect Modal Styles */
.rv-vanilla-modal-overlay-fi {
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  background: rgba(0, 0, 0, 0.5);
  opacity: 0;
  display: none;
  transition: 0.4s opacity linear;
  z-index: 1000;
}

.rv-vanilla-modal-overlay-fi.is-shown {
  opacity: 1;
  display: block;
}

.rv-vanilla-modal-fi {
  position: absolute;
  top: -100%;
  left: 50%;
  transform: translateX(-50%);
  width: 450px;
  max-width: 90%;
  background: var(--color-qrl-secondary);
  z-index: 1001;
  transition: 0.3s all ease-out;
  border-radius: 12px;
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.3), 0 10px 10px -5px rgba(0, 0, 0, 0.2);
  border: 1px solid var(--color-qrl-border);
}

.rv-vanilla-modal-fi.rv-vanilla-modal-is-open {
  top: 50%;
  transform: translate(-50%, -50%);
}

.rv-vanilla-modal-header {
  padding: 16px 20px;
  background: var(--color-qrl-primary);
  border-radius: 12px 12px 0 0;
  border-bottom: 1px solid var(--color-qrl-border);
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.rv-vanilla-modal-title {
  color: var(--color-qrl-text);
  margin: 0;
  font-size: 18px;
  font-weight: 600;
  font-family: 'Alte DIN 1451 Mittelschrift', sans-serif;
}

.rv-vanilla-modal-close {
  color: var(--color-qrl-accent);
  font-size: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  border-radius: 50%;
  border: 0;
  cursor: pointer;
  background: var(--color-qrl-secondary);
  transition: all 0.2s ease;
  border: 1px solid var(--color-qrl-border);
  padding: 0;
  padding-bottom: 4px;
}

.rv-vanilla-modal-close:hover {
  color: var(--color-qrl-text);
  background: var(--color-qrl-accent);
}

.rv-vanilla-modal-body {
  padding: 25px 20px 20px;
  overflow: auto;
  color: var(--color-qrl-text);
  font-family: 'Alte DIN 1451 Mittelschrift', sans-serif;
}

.rv-vanilla-modal-body p {
  margin: 0 0 1em;
  line-height: 1.5;
}

.rv-vanilla-modal-body p:last-child {
  margin-bottom: 0;
}

/* Light theme modal overrides */
.light-theme .rv-vanilla-modal-fi {
  background: var(--color-qrl-secondary);
  border-color: var(--color-qrl-border);
}

.light-theme .rv-vanilla-modal-header {
  background: var(--color-qrl-primary);
  border-bottom-color: var(--color-qrl-border);
}

.light-theme .rv-vanilla-modal-title {
  color: var(--color-qrl-text);
}

.light-theme .rv-vanilla-modal-body {
  color: var(--color-qrl-text);
}

.light-theme .rv-vanilla-modal-close {
  color: var(--color-qrl-accent);
  background: var(--color-qrl-secondary);
  border-color: var(--color-qrl-border);
}

.light-theme .rv-vanilla-modal-close:hover {
  color: var(--color-qrl-text);
  background: var(--color-qrl-accent);
}

  /* Truncated text with hover tooltip */
  .truncate-with-tooltip {
    @apply truncate relative;
  }

  .truncate-with-tooltip:hover::after {
    content: attr(data-full-text);
    @apply absolute bottom-full left-0 mb-2 px-3 py-2 bg-qrl-secondary border border-qrl-border rounded-lg shadow-lg text-xs text-qrl-text whitespace-nowrap z-50 max-w-xs;
  }

  .truncate-with-tooltip:hover::before {
    content: '';
    @apply absolute bottom-full left-4 mb-1 w-0 h-0 border-l-4 border-r-4 border-t-4 border-l-transparent border-r-transparent border-t-qrl-border z-50;
  }

/* Custom Tab Styles for Address Component */
.tab-button {
  @apply px-4 py-2 border-b-2 border-transparent text-qrl-text-secondary hover:text-qrl-text hover:border-qrl-accent transition-colors duration-200 cursor-pointer;
}

.tab-button.active {
  @apply text-qrl-accent border-qrl-accent;
}

.tab-content {
  @apply hidden;
}

.tab-content.active {
  @apply block;
}

/* JSON Toggle Styles */
.jsonbox {
  @apply transition-all duration-200;
}

.jsonclick svg {
  @apply transition-transform duration-200;
}

.jsonclick.active svg {
  @apply transform rotate-180;
}

/* JSON Formatter Dark Theme Styles - Override injected styles */
.json-formatter-dark.json-formatter-row {
  @apply text-sm !important;
}

.json-formatter-dark.json-formatter-toggler-link {
  @apply text-qrl-text hover:text-qrl-accent transition-colors duration-200 cursor-pointer !important;
}

/* Meta button styling */
.jsonclick {
  @apply border border-qrl-border rounded px-3 py-2 bg-qrl-accent/10 !important;
}

.jsonclick:hover {
  @apply border-qrl-accent bg-qrl-accent/20 !important;
}

.json-formatter-dark.json-formatter-toggler {
  @apply text-qrl-accent mr-2 !important;
}

.json-formatter-dark.json-formatter-row .json-formatter-key {
  @apply text-qrl-accent font-semibold !important;
  color: #FFA729 !important;
}

.json-formatter-dark.json-formatter-row .json-formatter-string,
.json-formatter-dark.json-formatter-row .json-formatter-stringifiable {
  @apply text-white font-mono !important;
  color: white !important;
}

.json-formatter-dark.json-formatter-row .json-formatter-number {
  @apply text-white font-mono !important;
  color: white !important;
}

.json-formatter-dark.json-formatter-row .json-formatter-boolean {
  @apply text-white font-mono !important;
  color: white !important;
}

.json-formatter-dark.json-formatter-row .json-formatter-null {
  @apply text-gray-400 font-mono !important;
  color: #9ca3af !important;
}

.json-formatter-dark.json-formatter-row .json-formatter-undefined {
  @apply text-gray-400 font-mono !important;
  color: #9ca3af !important;
}

.json-formatter-dark.json-formatter-row .json-formatter-constructor-name {
  @apply text-gray-400 font-semibold !important;
  color: #9ca3af !important;
  display: none !important; /* Hide "Object" text */
}

.json-formatter-dark.json-formatter-row .json-formatter-bracket {
  @apply text-qrl-blue font-mono !important;
  color: #4AAFFF !important; /* Explicit color override */
}

.json-formatter-children {
  @apply ml-4 border-l border-qrl-border pl-2;
}

/* Hide empty objects from user unless expanded */
.json-formatter-dark.json-formatter-children.json-formatter-empty.json-formatter-object {
  @apply hidden !important;
}

.json-formatter-dark.json-formatter-children.json-formatter-empty.json-formatter-array {
  @apply hidden !important;
}

/* Show empty objects only when parent is expanded */
.json-formatter-dark.json-formatter-open .json-formatter-children.json-formatter-empty.json-formatter-object {
  @apply block !important;
}

.json-formatter-dark.json-formatter-open .json-formatter-children.json-formatter-empty.json-formatter-array {
  @apply block !important;
}

.json-formatter-object {
  @apply bg-qrl-primary/30 rounded p-2 my-1;
}

.json-formatter-array {
  @apply bg-qrl-primary/30 rounded p-2 my-1;
}

/* Hide empty objects with maximum specificity */
.json-formatter-dark .json-formatter-empty,
.json-formatter-dark.json-formatter-empty,
.json-formatter-children.json-formatter-empty,
.json-formatter-children.json-formatter-empty.json-formatter-object,
.json-formatter-children.json-formatter-empty.json-formatter-array {
  display: none !important;
}

/* Override the library's open state rules with even higher specificity */
.json-formatter-dark.json-formatter-open .json-formatter-children.json-formatter-empty.json-formatter-object,
.json-formatter-dark.json-formatter-open .json-formatter-children.json-formatter-empty.json-formatter-array {
  display: none !important;
}

/* Hide empty children containers */
.json-formatter-children.json-formatter-object:empty,
.json-formatter-children.json-formatter-array:empty {
  display: none !important;
}

/* JSON Formatter Hover Effects */
.json-formatter-row:hover {
  @apply bg-qrl-secondary/30 rounded px-1;
  transform: none !important;
  transition: none !important;
}

/* JSON Formatter Toggle Animation */
.json-formatter-toggler {
  @apply transition-transform duration-200;
}

.json-formatter-open .json-formatter-toggler {
  @apply transform rotate-90;
}

/* Remove all bounce/scale animations from JSON formatter */
.json-formatter-row,
.json-formatter-key,
.json-formatter-value,
.json-formatter-string,
.json-formatter-number,
.json-formatter-boolean,
.json-formatter-null,
.json-formatter-undefined,
.json-formatter-constructor-name,
.json-formatter-toggler-link,
.json-formatter-toggler,
.json-formatter-children,
.json-formatter-object,
.json-formatter-array,
.json-formatter-empty,
.json-formatter-open,
.json-formatter-dark {
  transform: none !important;
  transition: none !important;
  animation: none !important;
  scale: none !important;
  translate: none !important;
}

.json-formatter-row:hover,
.json-formatter-key:hover,
.json-formatter-value:hover,
.json-formatter-string:hover,
.json-formatter-number:hover,
.json-formatter-boolean:hover,
.json-formatter-null:hover,
.json-formatter-undefined:hover,
.json-formatter-constructor-name:hover,
.json-formatter-toggler-link:hover,
.json-formatter-toggler:hover,
.json-formatter-children:hover,
.json-formatter-object:hover,
.json-formatter-array:hover,
.json-formatter-empty:hover,
.json-formatter-open:hover,
.json-formatter-dark:hover {
  transform: none !important;
  transition: none !important;
  animation: none !important;
  scale: none !important;
  translate: none !important;
}

/* Disable all hover animations globally for JSON formatter */
.jsonbox * {
  transform: none !important;
  transition: none !important;
  animation: none !important;
  scale: none !important;
  translate: none !important;
}

.jsonbox *:hover {
  transform: none !important;
  transition: none !important;
  animation: none !important;
  scale: none !important;
  translate: none !important;
}

/* Specific override for the problematic element - maximum specificity */
.jsonbox .json-formatter-row.json-formatter-dark.json-formatter-open,
.jsonbox .json-formatter-row.json-formatter-dark.json-formatter-open:hover,
.jsonbox .json-formatter-row.json-formatter-dark.json-formatter-open:focus,
.jsonbox .json-formatter-row.json-formatter-dark.json-formatter-open:active {
  transform: none !important;
  transition: none !important;
  animation: none !important;
  scale: none !important;
  translate: none !important;
  width: auto !important;
  height: auto !important;
  max-width: none !important;
  max-height: none !important;
  box-sizing: border-box !important;
  position: static !important;
  top: auto !important;
  left: auto !important;
  right: auto !important;
  bottom: auto !important;
  margin: 0 !important;
  padding: 0 !important;
  border: none !important;
  outline: none !important;
  box-shadow: none !important;
  filter: none !important;
  backdrop-filter: none !important;
  will-change: auto !important;
  backface-visibility: visible !important;
  perspective: none !important;
  transform-style: flat !important;
}

/* JSON Formatter Container */
.jsonbox {
  @apply max-w-full overflow-x-auto overflow-y-auto;
  max-height: 400px;
  transform: none !important;
  transition: none !important;
  animation: none !important;
}


/* JSON Formatter Content */
.json-formatter-row {
  @apply text-sm break-words;
}

.json-formatter-string,
.json-formatter-number,
.json-formatter-boolean,
.json-formatter-null,
.json-formatter-undefined {
  @apply break-all;
  word-wrap: break-word !important;
  overflow-wrap: break-word !important;
  hyphens: auto !important;
  white-space: normal !important;
}

/* JSON Formatter Scrollbar */
.jsonbox::-webkit-scrollbar {
  @apply w-2;
}

.jsonbox::-webkit-scrollbar-track {
  @apply bg-qrl-secondary;
}

.jsonbox::-webkit-scrollbar-thumb {
  @apply bg-qrl-border rounded;
}

.jsonbox::-webkit-scrollbar-thumb:hover {
  @apply bg-qrl-accent;
}
